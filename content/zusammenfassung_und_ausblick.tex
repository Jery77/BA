% !TeX spellcheck = en_US

\chapter{Summary}\label{chap:zusfas}
%!!!Entwurf!!!\\
%The main points of this work will be presented and highlighted.\\  
External references can negatively affect the performance of cloud applications.
Unfortunately, many TOSCA applications access external sources to install various packages during a deployment.
If we have a high level of information security or a limited access to the Internet, these external dependencies lead to a lot of problems which can be solved by encapsulation.
The purpose of this work was to develop the software for the elimination of such dependencies and the encapsulation of a TOSCA application.\\
The software was developed in Java language, which ensures its portability, ease of maintenance and extensibility.
To enable the ability to handle new types of external dependencies, the software was implemented in the form of a modular framework with separate modules for processing of languages and package managers.
This allows a user to add their new handlers for package managers and languages easily.
In the first version, the framework handled only $Bash$ scripts  which use the $apt$-$get$ package manager.
To check the simplicity of the extensibility, the processing of $Bash$ scripts with the $aptitude$ package manager and  $Ansible$ playbooks with the $apt$ package manager was added.\\
The framework handles a CSAR as follows.
The structure of the CSAR is analyzed to determine the internal dependencies between artifacts and Node Templates.
Then each language module selects artifacts written in the language.
All such artifacts are transferred to the package manager modules of the language for processing.
They find external dependencies, remove them and pass the names of the required packages to the package handler.
It loads each package along with all its dependencies and sends information about them to the topology handler, which creates TOSCA nodes for these packages and defines TOSCA dependencies from the original nodes to the new ones.
Later, a runtime environment can analyze these dependencies and install the necessary packages.\\
In order to show the extensibility of the framework, the addition of the $aptitude$ package manager module into the $Bash$ module was described in detail.
It  was shown how to create a module which can be added into the framework, how to implement its basic functions, pass data to the packet handler, and connect the module to $Bash$ language. \\
In the end, the results of the framework were validated.
The output SCARs were visualized and analyzed with the help of Winery.
Generated artifacts were tested and executed.\\
As a result, the framework that eliminates external dependencies in a CSAR was obtained.
It handles $Bash$ language with $aptitude$ and $apt$-$get$ package managers and $Ansible$ language with $apt$ package managers.
The framework can be easily expanded to handle additional types of external references. 

\if 0
В этой главе будут приведены и обощены основные моменты данной работы.

Внешние зависимости могут негативно влиять на работу облачных приложениях.
К сожалению очень многие тоска приложения обращаются к внешним источникам для установки различных пакетов на этапе развёртки.
Если дело касается информационной безопастности или ограниченного доступа в интернет, то инкапсуляция приложения может решить множество проблем.
Целью данной работы было разработать софт для комплексного устранения таких зависимостей.

Софт разработан на языке ява, что обеспечивает его портируемость, простоту обслуживания и расширения.
Что бы дать возможность добавлять обработку новых типов внешних зависимостей, софт был выполнен в виде модульного фреймворка, с отдельными модулями для языков и менеджеров пакетов.
Это позволяет пользователю легко добавлять свои обработчики менеджеров пакетов и языков.
Изначально фреймворк обрабатывал только баш скрипты использующие менеджер пакетов апт-гет, но в ходе работы былы добавлены менеджер пакетов аптитуде для баш и Энсибл игровые книги с апт, для демонстрации простоту расширяемости фреймворка. 

Фреймворк обрабатывает ЦСАР следующим образом. 
Анализируется структура ЦСАР для определения внутренних зависимостей между артифактами и шаблонами ячеек.
Далее каждый модуль языков отфильтровывает артифакты, для написания которых использовался этот язык.
Все такие артифакты передаются на обработку модулям менеджеров пакетов этих языков. 
Находят внешние зависимости, устраняют их и передают имена необходимых пакетов обработчику пакетов.
Он загружает данный пакет вместе со всеми его зависимостями и предоставляет информацию о них обработчику топологии.
Обработчик топологии создаёт ячейки тоска данных пакетов и зависимости от изначальных ячеек к новым, так что бы в дальнейшем, среда выполнения могла проанализировать эти зависимости и установить необходимые пакеты самостоятельно.

Для того что бы показать расширяемость фреймворка процесс добавления моделя менеджера пакетов аптитудэ для баш был описан подробно. 
Было показано как создаётся модуль, который можно добавить во фреймворк, как имплементировать его основные функции, передавать данные обработчику пакетов и подключить модуль к языку баш.

в завершении были проверены результаты работы фреймворка.
Выходные ЦСАР были визуализированы и проанализированы с помощью вайнери.
Сгенерированные артефакты были протестированы и исполнены.

В результате был получен фреймворк, устраняющий внешние зависимости в ЦСАР.
Он обрабатывает такие то языки и может быть легко дополнен новыми модулями.

\fi